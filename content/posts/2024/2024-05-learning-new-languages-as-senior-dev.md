---
title: How to learn new languages as a senior dev
description: How to learn new languages as a senior dev
date: 2024-05-25T13:47:44.576Z
author: Tristan Parisot
tags:
  - Python
  - DDD
  - clean architecture
  - fastapi
  - Javascript
mermaid: true
---

Today, we are about to learn a new programming language. We will spend an hour reviewing keywords, loops, and variance... And if we have time left, we...

_Wait!_ This is wrong. Why would a software engineer with 5y+ of experience suffer again learning all the basics?? Scratch all that.

Instead of starting with the basics, we will be starting with clean architecture, DDD, and then we dive deeper into how to implement domain, ports, and how to deploy all this.

Let's apply this to Python.

<!--more-->

[[toc]]

**Disclaimer**: I am not a Python expert. This blog post is something I created to give me a methodology to learn it. Expect imperfections.
If you find one that deserves a fix, there is a link to my Github at the end, I´d be grateful for any tips!

## Pre-requisites

- **A good understanding of clean architecture**. One really good read I suggest
  is [Herberto Graça variant of clean architecture](https://herbertograca.com/2017/11/16/explicit-architecture-01-ddd-hexagonal-onion-clean-cqrs-how-i-put-it-all-together/)

  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1189.34765625 858.7463955757488" width="100%" class="excalidraw-svg" >
    <rect x="0" y="0" width="1189.34765625" height="858.7463955757488" fill="#ffffff"></rect><g stroke-linecap="round"><g transform="translate(555.78515625 59.18359375) rotate(0 -0.16565565379801228 394.34732566644436)"><path d="M0.11 0.12 C0.35 131.6, 0.83 656.93, 0.95 788.43 M-1.29 -0.87 C-1.09 130.79, 0.2 657.68, 0.51 789.56" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(197.451171875 70.14453125) rotate(0 359.181640625 335)"><path d="M31.94 311.32 C31.94 311.32, 31.94 311.32, 31.94 311.32 M31.94 311.32 C31.94 311.32, 31.94 311.32, 31.94 311.32 M22.89 333.93 C41.37 307.94, 65.37 287.04, 110.15 233.55 M22.89 333.93 C58.47 292.67, 93.28 252.45, 110.15 233.55 M24.34 344.46 C63.31 295.59, 107.38 250.56, 166.05 181.44 M24.34 344.46 C68.19 293.25, 113.31 240.91, 166.05 181.44 M28.41 351.97 C70.69 303.97, 110.56 257.9, 222.6 128.58 M28.41 351.97 C73.23 300.18, 117.57 248.9, 222.6 128.58 M31.82 360.24 C127.57 250.78, 222.17 140.73, 279.16 75.71 M31.82 360.24 C99.84 280.09, 169.1 200.09, 279.16 75.71 M37.2 366.24 C103.26 287.11, 171.97 210.39, 321.93 38.7 M37.2 366.24 C136.33 251.69, 235.72 137.12, 321.93 38.7 M41.93 373 C129.26 271.9, 216.31 172, 345.03 24.33 M41.93 373 C124.42 275.78, 208.41 179.96, 345.03 24.33 M47.31 379 C163.82 243.26, 280.09 108.83, 358.28 21.27 M47.31 379 C148.3 265.86, 247.21 151.18, 358.28 21.27 M53.35 384.25 C157.18 267.5, 258.91 147.25, 367.6 22.75 M53.35 384.25 C120.61 305.5, 188.76 227.31, 367.6 22.75 M58.73 390.26 C178.46 250.8, 299.25 113.28, 376.26 24.98 M58.73 390.26 C136.67 300.83, 213.32 212.34, 376.26 24.98 M64.77 395.5 C139.42 310.71, 211.38 227.35, 383.61 28.72 M64.77 395.5 C147.36 301.65, 229.88 206.8, 383.61 28.72 M70.15 401.51 C162.76 296.47, 254.83 190.81, 390.31 33.21 M70.15 401.51 C189.98 261.29, 311.01 122.7, 390.31 33.21 M76.19 406.76 C176.33 293.24, 275.47 179.9, 397 37.7 M76.19 406.76 C143.66 328.28, 211.51 248.85, 397 37.7 M82.22 412 C160.04 318.59, 240.44 227.3, 403.69 42.2 M82.22 412 C189.87 286.1, 299.67 160.28, 403.69 42.2 M87.61 418.01 C180.48 310.31, 273.8 203.41, 409.73 47.45 M87.61 418.01 C197.88 288.67, 309.26 160.99, 409.73 47.45 M93.64 423.26 C190.12 311.94, 288.64 200.81, 415.77 52.69 M93.64 423.26 C186.93 316.34, 281.82 207.16, 415.77 52.69 M99.68 428.5 C188.28 325.03, 279.28 220.52, 421.15 58.7 M99.68 428.5 C220.78 289.93, 340.14 152.85, 421.15 58.7 M105.72 433.75 C230.75 291.42, 355.22 147.71, 427.19 63.95 M105.72 433.75 C220.3 300.03, 335.85 167.32, 427.19 63.95 M111.1 439.76 C239.52 293.73, 366.32 147.18, 433.23 69.19 M111.1 439.76 C195.76 340.86, 281.21 241.84, 433.23 69.19 M117.14 445 C226.84 320.77, 336.8 194.33, 439.26 74.44 M117.14 445 C182.97 367.52, 249.86 290.99, 439.26 74.44 M123.18 450.25 C235.03 321.84, 346.46 193.8, 445.3 79.69 M123.18 450.25 C203.08 359.16, 283.2 267, 445.3 79.69 M129.21 455.5 C221.97 348.15, 315.16 240.85, 451.34 84.94 M129.21 455.5 C215.34 358.31, 300.76 260.79, 451.34 84.94 M135.25 460.75 C209.9 376.38, 284.81 290.4, 456.72 90.94 M135.25 460.75 C261.73 314.55, 389.43 167.59, 456.72 90.94 M140.63 466.75 C225.13 368.97, 311.07 270.93, 462.76 96.19 M140.63 466.75 C240.95 351.67, 340.73 236.46, 462.76 96.19 M146.67 472 C260.91 339.53, 376.14 207.95, 468.8 101.44 M146.67 472 C226.42 382.16, 304.84 292.14, 468.8 101.44 M152.71 477.25 C277.38 333.15, 403.96 188.24, 474.18 107.44 M152.71 477.25 C241.73 375.71, 330.52 274.04, 474.18 107.44 M158.75 482.5 C227.95 400.46, 299.44 320.68, 480.21 112.69 M158.75 482.5 C277.18 345.72, 395.83 208.32, 480.21 112.69 M164.13 488.5 C256.62 380.74, 351.48 272.68, 486.25 117.94 M164.13 488.5 C244.15 396.69, 322.53 306.48, 486.25 117.94 M170.17 493.75 C272.05 377.46, 372.73 260.61, 491.63 123.94 M170.17 493.75 C238 413.98, 306.51 335.39, 491.63 123.94 M176.2 499 C267.94 393.38, 360.47 288.65, 497.67 129.19 M176.2 499 C257.76 403.8, 339.67 309.64, 497.67 129.19 M182.24 504.25 C290.6 378.58, 398.79 253.43, 503.71 134.44 M182.24 504.25 C266.33 406.47, 351.01 310.13, 503.71 134.44 M187.62 510.25 C313.46 367.14, 437.79 223.06, 509.09 140.44 M187.62 510.25 C283.33 399.01, 379.22 287.76, 509.09 140.44 M193.66 515.5 C313.73 376.88, 435.12 238.62, 515.13 145.69 M193.66 515.5 C275.78 419.1, 359.38 322.94, 515.13 145.69 M199.7 520.75 C298.45 406.58, 399.41 291.81, 521.17 150.94 M199.7 520.75 C301.7 402.91, 404.92 284.71, 521.17 150.94 M205.74 526 C305.38 410.08, 406.71 294.86, 526.55 156.94 M205.74 526 C269.66 453.17, 333.76 379.06, 526.55 156.94 M211.12 532 C296.86 433.14, 382.45 334.52, 532.59 162.19 M211.12 532 C281.69 451.7, 351.48 371.68, 532.59 162.19 M217.15 537.25 C293.31 449.52, 370.62 361.5, 538.62 167.44 M217.15 537.25 C324.81 413.23, 433.05 289.05, 538.62 167.44 M223.19 542.5 C339.53 410.2, 454.96 278.65, 544 173.44 M223.19 542.5 C297.91 456.09, 374.87 368.57, 544 173.44 M229.23 547.74 C302.42 462.97, 374.51 377.94, 550.04 178.69 M229.23 547.74 C347.42 412.34, 464.84 277.46, 550.04 178.69 M235.27 552.99 C359.23 407.52, 484.38 263.56, 556.08 183.94 M235.27 552.99 C360.44 411.19, 485.44 268.42, 556.08 183.94 M240.65 559 C354.16 426, 470.29 293.66, 561.46 189.94 M240.65 559 C320.25 468.73, 398.98 377.64, 561.46 189.94 M246.69 564.24 C333.58 464.9, 419.4 365.9, 567.5 195.19 M246.69 564.24 C317.86 481.67, 388.73 399.64, 567.5 195.19 M252.72 569.49 C352.17 455.7, 451.25 341.63, 573.54 200.44 M252.72 569.49 C375.92 427.77, 500.02 285.95, 573.54 200.44 M258.76 574.74 C381.49 434.07, 503.48 293.54, 578.92 206.44 M258.76 574.74 C338.73 481.88, 419.78 388.97, 578.92 206.44 M264.14 580.74 C371.26 454.04, 480.97 328.44, 584.96 211.69 M264.14 580.74 C342.97 489.71, 421.16 399.9, 584.96 211.69 M270.18 585.99 C343.56 501.12, 417.24 416.64, 590.99 216.94 M270.18 585.99 C380.04 461.68, 489.76 335.38, 590.99 216.94 M276.22 591.24 C382.34 469.37, 487.12 348.56, 596.38 222.94 M276.22 591.24 C383.39 466.91, 492.12 342.79, 596.38 222.94 M282.26 596.49 C410.28 448.88, 537.11 301.84, 602.41 228.19 M282.26 596.49 C379.71 484.87, 477.48 373.39, 602.41 228.19 M287.64 602.49 C393.91 479.08, 501.5 357.71, 608.45 233.44 M287.64 602.49 C361.39 515.16, 436.49 428.52, 608.45 233.44 M293.68 607.74 C414.54 467.41, 537.36 327.23, 613.83 239.44 M293.68 607.74 C392.28 492.61, 491.63 378.5, 613.83 239.44 M299.71 612.99 C368.82 533.49, 437.76 453.61, 619.87 244.69 M299.71 612.99 C412.2 483.05, 524.81 353.7, 619.87 244.69 M305.75 618.24 C421.23 485.97, 537.58 351.57, 625.91 249.94 M305.75 618.24 C395.72 515.95, 485.67 412.67, 625.91 249.94 M311.79 623.49 C387.98 536.47, 465.32 447.32, 631.29 255.94 M311.79 623.49 C429.87 489.21, 546.87 354.44, 631.29 255.94 M317.83 628.74 C387.2 548.87, 456.42 467.93, 637.33 261.19 M317.83 628.74 C411.3 520.1, 504.99 412.66, 637.33 261.19 M324.52 633.23 C407.14 539.83, 487.82 446.15, 643.37 266.44 M324.52 633.23 C389.6 557.45, 455.21 481.65, 643.37 266.44 M330.56 638.48 C437.38 515.54, 543.87 393.99, 648.75 272.44 M330.56 638.48 C449.07 499.37, 568.38 361.94, 648.75 272.44 M337.91 642.22 C438.41 527.87, 538.87 411.95, 654.78 277.69 M337.91 642.22 C416.68 551.15, 496.03 460.56, 654.78 277.69 M345.26 645.96 C465.4 506.81, 584.19 370.3, 660.82 282.94 M345.26 645.96 C443.24 535.06, 541.38 422.77, 660.82 282.94 M353.26 648.94 C435.49 554.56, 520.16 457.77, 666.2 288.94 M353.26 648.94 C454.82 530.52, 557.83 412.23, 666.2 288.94 M363.89 648.91 C463.23 531.59, 565.91 413.81, 672.24 294.19 M363.89 648.91 C433.55 567.71, 503.59 486.05, 672.24 294.19 M378.46 644.34 C485.3 520.53, 592.98 396.77, 677.62 300.2 M378.46 644.34 C477.9 530.44, 577.8 415.87, 677.62 300.2 M401.56 629.97 C474.04 549.08, 544.38 466.4, 683 306.2 M401.56 629.97 C465.06 557.52, 527.88 486.05, 683 306.2 M448.92 587.67 C504.18 523.11, 559.04 459.74, 687.73 312.96 M448.92 587.67 C543.73 477.05, 639.23 367.24, 687.73 312.96 M504.82 535.56 C563.37 469.46, 622.12 399.85, 691.8 320.47 M504.82 535.56 C566.37 463.93, 629.28 392.22, 691.8 320.47 M560.72 483.45 C603.78 433.85, 649.91 384.02, 695.21 328.74 M560.72 483.45 C604.44 435.55, 647.9 384.78, 695.21 328.74 M616.62 431.34 C648.45 395.7, 676.48 360.77, 696 340.02 M616.62 431.34 C646 399.93, 673.64 367.77, 696 340.02" stroke="#ffec99" stroke-width="1" fill="none"></path><path d="M450 84 C521.84 151.58, 591.99 217.77, 628.36 252 M450 84 C511.01 142.56, 571.25 201.41, 628.36 252 M628.36 252 C718.19 335.12, 719.55 336.65, 628.36 420 M628.36 252 C719.2 338.06, 719.57 337.45, 628.36 420 M628.36 420 C582.81 460.59, 537.76 502.31, 450 586 M628.36 420 C562.7 481.43, 497.23 543.14, 450 586 M450 586 C361.17 668.12, 358.04 668.5, 270 586 M450 586 C358.15 669.68, 361.61 668.96, 270 586 M270 586 C206.67 528.14, 142.17 465.41, 90 420 M270 586 C209.5 529.99, 147.32 472.9, 90 420 M90 420 C-1.94 336.38, 1.03 334.13, 90 252 M90 420 C2.05 338.29, -1.15 334.82, 90 252 M90 252 C134.5 210.44, 181.45 166.8, 270 84 M90 252 C136.02 208.08, 182.2 163.46, 270 84 M270 84 C358.08 -1.2, 359.21 0.61, 450 84 M270 84 C361.28 0.23, 360.94 1.64, 450 84" stroke="#f08c00" stroke-width="2" fill="none"></path></g><g transform="translate(698.2020263671875 242.64453125) rotate(0 16.41998291015625 162.5)"><text x="32.8399658203125" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#f08c00" text-anchor="end" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="32.8399658203125" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#f08c00" text-anchor="end" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="32.8399658203125" y="67.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#f08c00" text-anchor="end" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="32.8399658203125" y="92.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#f08c00" text-anchor="end" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="32.8399658203125" y="117.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#f08c00" text-anchor="end" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="32.8399658203125" y="142.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#f08c00" text-anchor="end" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="32.8399658203125" y="167.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#f08c00" text-anchor="end" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="32.8399658203125" y="192.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#f08c00" text-anchor="end" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="32.8399658203125" y="217.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#f08c00" text-anchor="end" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="32.8399658203125" y="242.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#f08c00" text-anchor="end" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="32.8399658203125" y="267.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#f08c00" text-anchor="end" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="32.8399658203125" y="292.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#f08c00" text-anchor="end" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="32.8399658203125" y="317.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#f08c00" text-anchor="end" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">App</text></g><g stroke-linecap="round" transform="translate(399.703125 225.5078125) rotate(0 158.689453125 152.24609375)"><path d="M198.75 38.25 C223.52 63.69, 242.15 83.23, 277.63 114.75 C319.85 151.1, 316.31 149.64, 277.63 191.25 C255.16 214.9, 231.77 231.4, 198.75 266.24 C158.25 307.93, 158.22 306.22, 119.25 266.24 C92.77 244.2, 73.91 219.5, 39.75 191.25 C1.48 155.21, -0.17 151.13, 39.75 114.75 C65.04 87.65, 86.39 66.7, 119.25 38.25 C157.59 -3, 160.19 1.72, 198.75 38.25" stroke="none" stroke-width="0" fill="#b2f2bb"></path><path d="M198.75 38.25 C217.82 54.2, 232.86 71.49, 277.63 114.75 M198.75 38.25 C229.78 68.44, 258.51 97.55, 277.63 114.75 M277.63 114.75 C318.81 151.61, 316.68 151.68, 277.63 191.25 M277.63 114.75 C318.52 153.11, 318.85 151.25, 277.63 191.25 M277.63 191.25 C249.79 217.46, 224.61 241.84, 198.75 266.24 M277.63 191.25 C253.17 214.75, 227.46 238.87, 198.75 266.24 M198.75 266.24 C159.83 306.23, 158.02 305.57, 119.25 266.24 M198.75 266.24 C159.32 304.36, 160.69 303.93, 119.25 266.24 M119.25 266.24 C101.2 249.46, 81.64 230.15, 39.75 191.25 M119.25 266.24 C90.75 239.19, 60.67 210.22, 39.75 191.25 M39.75 191.25 C0.01 154.46, -0.3 154.74, 39.75 114.75 M39.75 191.25 C0.29 154.19, -0.31 154.47, 39.75 114.75 M39.75 114.75 C67.61 90.4, 91.8 64.48, 119.25 38.25 M39.75 114.75 C68.33 87.06, 96.16 60.35, 119.25 38.25 M119.25 38.25 C157.73 0.21, 159.81 0.76, 198.75 38.25 M119.25 38.25 C157.18 1.02, 161.27 -2.28, 198.75 38.25" stroke="#f08c00" stroke-width="2" fill="none"></path></g><g transform="translate(525.1926040649414 365.130859375) rotate(0 33.199974060058594 12.5)"><text x="33.199974060058594" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#f08c00" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Domain</text></g><g stroke-linecap="round"><g transform="translate(156.5703125 260.62890625) rotate(0 170.33495789010428 137.67919308170679)"><path d="M0.62 -1.01 C58.93 21.04, 351.54 86.36, 350.01 132.59 C348.48 178.82, 51.15 252.45, -8.54 276.37 M-0.51 1.07 C57.62 23.22, 350.49 88.09, 349.01 133.62 C347.54 179.15, 50.1 250.29, -9.35 274.23" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.5703125 260.62890625) rotate(0 170.33495789010428 137.67919308170679)"><path d="M10.52 259.06 C2.66 263.75, -3.49 268.53, -9.35 274.23 M10.52 259.06 C4.85 264.77, -2.75 268.68, -9.35 274.23" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(156.5703125 260.62890625) rotate(0 170.33495789010428 137.67919308170679)"><path d="M15.63 275.38 C6.12 274.99, -1.62 274.66, -9.35 274.23 M15.63 275.38 C8.21 275.67, -1.09 274.16, -9.35 274.23" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(288.9349670410156 10) rotate(0 71.63993835449219 12.5)"><text x="143.27987670898438" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="end" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">User interface</text></g><g transform="translate(644.9269561767578 23.96484375) rotate(0 73.12992858886719 12.5)"><text x="146.25985717773438" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="end" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Infrastructure</text></g><g stroke-linecap="round" transform="translate(1059.9296875 663.59765625) rotate(0 59.708984375 52.65234375)"><path d="M26.33 0 C42.59 -1.92, 60.16 -0.78, 93.09 0 M26.33 0 C44.35 0.85, 60.72 0.7, 93.09 0 M93.09 0 C111.48 -0.78, 119.57 7.19, 119.42 26.33 M93.09 0 C112.84 -1.71, 121.1 8.47, 119.42 26.33 M119.42 26.33 C120.14 41.09, 120.1 57.65, 119.42 78.98 M119.42 26.33 C120.22 46.25, 119.71 67.73, 119.42 78.98 M119.42 78.98 C118.6 98.36, 111.09 103.6, 93.09 105.3 M119.42 78.98 C117.55 97.35, 109.96 106.92, 93.09 105.3 M93.09 105.3 C72.07 106.55, 51.66 105.61, 26.33 105.3 M93.09 105.3 C77.77 104.4, 62.63 105.85, 26.33 105.3 M26.33 105.3 C7.89 105.6, 0.55 97.67, 0 78.98 M26.33 105.3 C10.36 107.09, -2.25 97.71, 0 78.98 M0 78.98 C-0.6 69.03, -1.28 56.24, 0 26.33 M0 78.98 C1.51 59.07, 0.38 38.96, 0 26.33 M0 26.33 C0.76 10.45, 9.36 -0.28, 26.33 0 M0 26.33 C-1.49 10.87, 9.26 2.1, 26.33 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1080.2587051391602 691.25) rotate(0 39.379966735839844 25)"><text x="39.379966735839844" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">MySQL </text><text x="39.379966735839844" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">adapter</text></g><g stroke-linecap="round" transform="translate(1071.064453125 468.27734375) rotate(0 51.4765625 52.65234375)"><path d="M25.74 0 C38.85 1.51, 51.85 0.18, 77.21 0 M25.74 0 C46.1 0.64, 67.03 0.05, 77.21 0 M77.21 0 C95.48 -1.4, 101 9.02, 102.95 25.74 M77.21 0 C93.69 -1.11, 102.26 7.03, 102.95 25.74 M102.95 25.74 C102.6 39.87, 103.87 55.95, 102.95 79.57 M102.95 25.74 C102.97 38.03, 104.09 51.81, 102.95 79.57 M102.95 79.57 C103.94 95.59, 93.41 103.31, 77.21 105.3 M102.95 79.57 C101.69 95.86, 94.53 106.87, 77.21 105.3 M77.21 105.3 C63.87 107.18, 50.93 104.8, 25.74 105.3 M77.21 105.3 C59.42 104.53, 40.73 105.35, 25.74 105.3 M25.74 105.3 C8.36 104.66, -1.49 94.95, 0 79.57 M25.74 105.3 C7.13 103.24, 0.55 96.07, 0 79.57 M0 79.57 C2.14 59.42, 1.13 36.64, 0 25.74 M0 79.57 C-1.01 61.69, -0.42 45.57, 0 25.74 M0 25.74 C1.71 9.02, 10.21 1.85, 25.74 0 M0 25.74 C-0.72 9.35, 6.91 1.45, 25.74 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1083.1610488891602 495.9296875) rotate(0 39.379966735839844 25)"><text x="39.379966735839844" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Redis </text><text x="39.379966735839844" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">adapter</text></g><g stroke-linecap="round" transform="translate(713.9453125 591.76953125) rotate(0 20.16796875 24.5)"><path d="M10.73 2.7 C10.73 2.7, 10.73 2.7, 10.73 2.7 M10.73 2.7 C10.73 2.7, 10.73 2.7, 10.73 2.7 M1.02 26.06 C7.95 18.01, 14.53 11.09, 22.67 1.16 M1.02 26.06 C7.62 18.41, 13.5 11.32, 22.67 1.16 M3.78 35.08 C12.86 24.33, 22.31 13.86, 30.02 4.89 M3.78 35.08 C13.08 24.83, 22.33 14.07, 30.02 4.89 M7.85 42.6 C15.79 33.44, 24.86 24.38, 36.71 9.39 M7.85 42.6 C16.85 31.39, 26.31 20.63, 36.71 9.39 M14.54 47.09 C23.05 37.39, 33.21 26.78, 38.81 19.17 M14.54 47.09 C23.41 36.8, 32.08 27.2, 38.81 19.17 M23.2 49.32 C26.35 44.63, 31.55 40.71, 38.95 31.21 M23.2 49.32 C26.77 45.43, 30.24 41.68, 38.95 31.21 M9.78 45.15 C9.78 45.15, 9.78 45.15, 9.78 45.15 M9.78 45.15 C9.78 45.15, 9.78 45.15, 9.78 45.15 M24.84 47.64 C19.99 43.67, 15.27 39.74, 1.44 27.3 M24.84 47.64 C19.69 42.64, 14.22 38.37, 1.44 27.3 M31.59 42.92 C23.21 35.08, 13.7 26.92, 1.41 16.67 M31.59 42.92 C22.97 35.74, 15.11 28.16, 1.41 16.67 M36.84 36.88 C30.76 31.74, 23.1 25.24, 5.15 9.32 M36.84 36.88 C29.63 30.58, 22.21 24.39, 5.15 9.32 M39.83 28.87 C33.25 23.54, 25.9 16.43, 10.39 3.29 M39.83 28.87 C31.25 21.29, 22.54 14.59, 10.39 3.29 M38.28 16.93 C32.07 10.87, 24.81 5.53, 20.17 1.18 M38.28 16.93 C32.78 12.2, 26.52 6.42, 20.17 1.18" stroke="#a5d8ff" stroke-width="1" fill="none"></path><path d="M25.15 1.16 C29.23 2, 33.94 5.37, 36.45 9.43 C38.95 13.48, 40.44 20.1, 40.17 25.48 C39.91 30.85, 37.84 37.72, 34.87 41.67 C31.9 45.62, 26.57 48.65, 22.34 49.19 C18.1 49.72, 13.09 47.85, 9.46 44.88 C5.83 41.91, 1.89 36.4, 0.55 31.37 C-0.79 26.34, -0.26 19.45, 1.41 14.7 C3.09 9.94, 6.57 5.14, 10.61 2.83 C14.66 0.51, 23.04 0.96, 25.67 0.8 C28.31 0.64, 26.47 1.44, 26.43 1.85 M23.64 -0.13 C27.77 0.24, 32.84 4.34, 35.51 8.33 C38.18 12.33, 39.66 18.71, 39.64 23.85 C39.63 28.99, 37.94 35.01, 35.44 39.18 C32.93 43.35, 28.69 47.85, 24.61 48.88 C20.53 49.91, 14.82 48.05, 10.96 45.37 C7.09 42.68, 3.1 37.67, 1.42 32.8 C-0.27 27.93, -0.45 21.12, 0.84 16.13 C2.14 11.13, 5.39 5.38, 9.19 2.82 C13 0.27, 21.34 1.19, 23.67 0.78 C26.01 0.38, 23.32 0.09, 23.2 0.4" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(673.6807861328125 679.2578125) rotate(0 78.22991943359375 12.5)"><text x="156.4598388671875" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="end" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">PersistancyPort</text></g><g stroke-linecap="round" transform="translate(822.609375 459.9296875) rotate(0 20.16796875 24.5)"><path d="M8.05 4.35 C8.05 4.35, 8.05 4.35, 8.05 4.35 M8.05 4.35 C8.05 4.35, 8.05 4.35, 8.05 4.35 M1.62 23.94 C6.82 17.11, 13.82 10.16, 21.96 0.54 M1.62 23.94 C7.23 17.38, 13.83 9.75, 21.96 0.54 M2.41 35.22 C11.43 24.61, 19.23 16.13, 29.31 4.28 M2.41 35.22 C9.68 26.8, 17.97 17.82, 29.31 4.28 M7.79 41.22 C14.31 33.32, 21.96 26.04, 35.35 9.53 M7.79 41.22 C16.72 30.58, 25.72 20.93, 35.35 9.53 M13.17 47.23 C23.39 36.51, 34.12 24.6, 38.76 17.79 M13.17 47.23 C21.58 36.77, 30.59 26.69, 38.76 17.79 M23.15 47.95 C27.1 43.46, 29.3 40.21, 38.24 30.59 M23.15 47.95 C27.41 42.7, 32.6 37.31, 38.24 30.59 M11.94 47.23 C11.94 47.23, 11.94 47.23, 11.94 47.23 M11.94 47.23 C11.94 47.23, 11.94 47.23, 11.94 47.23 M24.74 47.76 C17.5 41.77, 12.94 37.41, 2.09 28.08 M24.74 47.76 C18.27 41.99, 12.15 36.5, 2.09 28.08 M31.49 43.03 C25.75 36.74, 18.43 32.08, 1.31 16.79 M31.49 43.03 C22.59 35.04, 14.63 28.06, 1.31 16.79 M36.74 36.99 C28.77 30.61, 20.17 23.14, 5.04 9.44 M36.74 36.99 C27.97 29.97, 19.11 22.19, 5.04 9.44 M38.97 28.33 C30.03 20.86, 21.46 12.61, 10.29 3.4 M38.97 28.33 C32.99 23.42, 26.68 17.42, 10.29 3.4 M38.94 17.7 C33.28 14.24, 28.88 9.87, 19.31 0.64 M38.94 17.7 C34.57 13.48, 30.47 10.34, 19.31 0.64" stroke="#a5d8ff" stroke-width="1" fill="none"></path><path d="M21.47 0.35 C25.51 0.39, 31.15 3.56, 34.28 7.16 C37.41 10.77, 39.86 16.79, 40.23 21.98 C40.61 27.17, 39 33.99, 36.52 38.3 C34.04 42.6, 29.49 46.36, 25.36 47.82 C21.24 49.28, 15.57 49.12, 11.75 47.07 C7.93 45.02, 4.33 40.31, 2.44 35.53 C0.55 30.76, -0.55 23.65, 0.42 18.42 C1.38 13.19, 4.45 7.26, 8.21 4.16 C11.96 1.07, 20.45 0.45, 22.95 -0.13 C25.45 -0.72, 23.26 0.12, 23.21 0.65 M16 0.13 C20.07 -1.07, 26.56 0.82, 30.47 3.5 C34.37 6.19, 37.86 11.27, 39.41 16.23 C40.96 21.18, 41.36 28.45, 39.77 33.24 C38.18 38.03, 33.67 42.31, 29.86 44.96 C26.06 47.6, 21.12 49.81, 16.94 49.11 C12.76 48.42, 7.65 44.93, 4.8 40.79 C1.95 36.66, -0.02 29.6, -0.14 24.29 C-0.26 18.99, 1.22 12.93, 4.07 8.97 C6.92 5.01, 14.78 1.96, 16.95 0.53 C19.13 -0.9, 17.21 -0.05, 17.12 0.39" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(877.4775085449219 445.85546875) rotate(0 49.21995544433594 12.5)"><text x="98.43991088867188" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="end" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">cachePort</text></g><g stroke-linecap="round" transform="translate(712.95703125 203.6015625) rotate(0 20.16796875 24.5)"><path d="M5.77 6.34 C5.77 6.34, 5.77 6.34, 5.77 6.34 M5.77 6.34 C5.77 6.34, 5.77 6.34, 5.77 6.34 M0.65 24.42 C7.41 15.65, 14.34 7.84, 20.33 1.78 M0.65 24.42 C6.77 16.47, 13.22 9.16, 20.33 1.78 M2.75 34.19 C12.17 21.79, 23.19 10.94, 29 4.01 M2.75 34.19 C8.41 28.17, 13.46 21.28, 29 4.01 M6.82 41.71 C17.49 30.84, 27 18.89, 34.38 10.01 M6.82 41.71 C15.94 31.58, 24.49 20.28, 34.38 10.01 M12.86 46.96 C18.38 39.33, 24.49 33.62, 39.1 16.77 M12.86 46.96 C18.69 39.11, 25.86 31.75, 39.1 16.77 M22.84 47.68 C28.23 42.82, 31.6 37.05, 39.24 28.81 M22.84 47.68 C27.14 42.75, 31.18 37.8, 39.24 28.81 M3.3 38.89 C3.3 38.89, 3.3 38.89, 3.3 38.89 M3.3 38.89 C3.3 38.89, 3.3 38.89, 3.3 38.89 M24.39 46.63 C16.46 40.18, 9.02 32.44, 0.24 25.63 M24.39 46.63 C16.38 40.11, 8.7 33.07, 0.24 25.63 M31.91 42.56 C23.42 35, 14.3 26.2, 1.72 16.32 M31.91 42.56 C23.6 35.38, 14.73 27.71, 1.72 16.32 M37.15 36.52 C25.93 26.67, 13.44 16.41, 4.7 8.31 M37.15 36.52 C27.91 28.2, 18.4 20.48, 4.7 8.31 M39.38 27.86 C33.39 22.68, 24.91 16.81, 11.46 3.58 M39.38 27.86 C31.29 21.04, 23.44 14.13, 11.46 3.58 M40.1 17.88 C33.02 12.47, 24.63 4.61, 19.73 0.17 M40.1 17.88 C33.92 13.09, 28.24 7.62, 19.73 0.17" stroke="#a5d8ff" stroke-width="1" fill="none"></path><path d="M18.93 0.55 C22.9 -0.18, 27.92 1.87, 31.39 4.82 C34.87 7.77, 38.53 13.34, 39.76 18.27 C40.99 23.21, 40.59 29.75, 38.78 34.44 C36.97 39.13, 32.95 44.06, 28.92 46.41 C24.89 48.75, 18.83 49.75, 14.58 48.51 C10.32 47.27, 5.86 43.35, 3.38 38.96 C0.89 34.57, -0.69 27.55, -0.34 22.17 C0.01 16.79, 2.29 10.44, 5.48 6.68 C8.66 2.91, 16.46 0.61, 18.76 -0.42 C21.07 -1.45, 19.29 -0.02, 19.31 0.51 M20.72 0.49 C24.92 0.56, 31.1 3.35, 34.39 6.99 C37.69 10.63, 40.07 17.04, 40.51 22.32 C40.95 27.59, 39.57 34.43, 37.06 38.62 C34.54 42.81, 29.48 46.05, 25.43 47.47 C21.38 48.89, 16.66 49.22, 12.76 47.14 C8.86 45.06, 3.97 39.77, 2.03 34.98 C0.09 30.18, 0.01 23.3, 1.11 18.38 C2.21 13.46, 5.28 8.42, 8.62 5.47 C11.96 2.51, 19.12 1.46, 21.14 0.63 C23.16 -0.2, 20.79 0.2, 20.75 0.48" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(745.7022705078125 161.94921875) rotate(0 54.62993621826172 12.5)"><text x="109.25987243652344" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="end" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">pubSubPort</text></g><g stroke-linecap="round" transform="translate(1052.955078125 128.51171875) rotate(0 50.685546875 52.65234375)"><path d="M25.34 0 C41.15 -0.79, 54.48 -0.76, 76.03 0 M25.34 0 C38.65 -0.4, 49.63 0.03, 76.03 0 M76.03 0 C94.76 -1.34, 100.26 9.2, 101.37 25.34 M76.03 0 C93.64 1.31, 103.25 8.73, 101.37 25.34 M101.37 25.34 C101.88 36.29, 100.42 51.61, 101.37 79.96 M101.37 25.34 C100.94 39.51, 101.03 55, 101.37 79.96 M101.37 79.96 C100.44 97.64, 94.74 104.83, 76.03 105.3 M101.37 79.96 C99.12 95.54, 91.55 105.21, 76.03 105.3 M76.03 105.3 C55.11 106.55, 34.92 103.8, 25.34 105.3 M76.03 105.3 C62.5 104.12, 48.74 104.03, 25.34 105.3 M25.34 105.3 C8.37 104.16, -1.4 98.14, 0 79.96 M25.34 105.3 C7.53 103.02, 0.18 99.15, 0 79.96 M0 79.96 C1.89 66.7, 1.66 51.49, 0 25.34 M0 79.96 C0.14 61.64, 0.17 40.51, 0 25.34 M0 25.34 C0.68 9.54, 8.37 -0.45, 25.34 0 M0 25.34 C0.94 8.21, 8.48 1.98, 25.34 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1064.2606582641602 156.1640625) rotate(0 39.379966735839844 25)"><text x="39.379966735839844" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">MQTT </text><text x="39.379966735839844" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">adapter</text></g><g stroke-linecap="round"><g transform="translate(1040.9453125 202.8041243349881) rotate(0 -137.45509499956995 12.743651222321546)"><path d="M0.44 0.2 C-45.28 4.22, -228.39 20.61, -274.3 24.59 M-0.79 -0.74 C-46.68 3.46, -230.04 21.9, -275.35 26.23" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1040.9453125 202.8041243349881) rotate(0 -137.45509499956995 12.743651222321546)"><path d="M-252.8 15.42 C-259.2 18.44, -265.97 20.45, -275.35 26.23 M-252.8 15.42 C-258.74 17.84, -265.26 22.15, -275.35 26.23" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1040.9453125 202.8041243349881) rotate(0 -137.45509499956995 12.743651222321546)"><path d="M-251.13 32.44 C-258.09 30.36, -265.37 27.25, -275.35 26.23 M-251.13 32.44 C-257.35 30.21, -264.33 29.87, -275.35 26.23" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(1063.0390625 523.3946923552014) rotate(0 -96.36839370243638 -15.688978914031622)"><path d="M0.13 -0.42 C-31.84 -5.47, -160.91 -25.77, -192.87 -30.96 M-1.26 -1.69 C-32.76 -6.52, -158.8 -24.8, -190.61 -29.64" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1063.0390625 523.3946923552014) rotate(0 -96.36839370243638 -15.688978914031622)"><path d="M-166.12 -34.65 C-172.01 -35.01, -177.18 -31.83, -190.61 -29.64 M-166.12 -34.65 C-171.16 -34.6, -176.15 -31.74, -190.61 -29.64" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1063.0390625 523.3946923552014) rotate(0 -96.36839370243638 -15.688978914031622)"><path d="M-168.63 -17.74 C-173.9 -21.66, -178.54 -22.05, -190.61 -29.64 M-168.63 -17.74 C-173.23 -21.33, -177.69 -22.12, -190.61 -29.64" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(1050.171875 713.28515625) rotate(0 -146.5214614130556 -40.81152585968374)"><path d="M1.13 0.84 C-47.78 -13.02, -245 -68.73, -294.17 -82.46 M0.26 0.23 C-48.23 -13.52, -243.41 -67.23, -292.01 -81.22" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1050.171875 713.28515625) rotate(0 -146.5214614130556 -40.81152585968374)"><path d="M-267.08 -83.1 C-271.69 -84.18, -280.03 -83.22, -292.01 -81.22 M-267.08 -83.1 C-274.76 -81.83, -283.69 -82.7, -292.01 -81.22" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1050.171875 713.28515625) rotate(0 -146.5214614130556 -40.81152585968374)"><path d="M-271.71 -66.64 C-275.28 -71.72, -282.51 -74.73, -292.01 -81.22 M-271.71 -66.64 C-277.91 -70.76, -285.32 -77.04, -292.01 -81.22" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(367.3359375 213.57421875) rotate(0 20.16796875 24.5)"><path d="M8.34 4.6 C8.34 4.6, 8.34 4.6, 8.34 4.6 M8.34 4.6 C8.34 4.6, 8.34 4.6, 8.34 4.6 M1.26 24.94 C6.15 18.6, 13.31 11.47, 22.91 0.04 M1.26 24.94 C9.13 16.09, 16.03 7.75, 22.91 0.04 M2.05 36.23 C8.03 29.89, 14.65 22.48, 29.6 4.53 M2.05 36.23 C11.51 25.62, 21.59 14.58, 29.6 4.53 M7.43 42.23 C17.08 31.02, 28.48 19.7, 35.64 9.78 M7.43 42.23 C15.45 33.59, 23.21 23.97, 35.64 9.78 M13.47 47.48 C22.47 35.6, 32.84 26.18, 39.05 18.05 M13.47 47.48 C23.2 36.06, 33.59 25.14, 39.05 18.05 M23.44 48.2 C27.5 42.51, 34.31 37.34, 39.18 30.09 M23.44 48.2 C28.07 43.03, 32.86 37.23, 39.18 30.09 M12.16 46.98 C12.16 46.98, 12.16 46.98, 12.16 46.98 M12.16 46.98 C12.16 46.98, 12.16 46.98, 12.16 46.98 M25.71 48.16 C19.83 43.04, 15.4 38.91, 1.56 27.17 M25.71 48.16 C16.05 40.42, 7.07 31.93, 1.56 27.17 M31.71 42.78 C19.89 32.84, 9.13 23.38, 2.28 17.19 M31.71 42.78 C20.58 33.2, 9.1 23.21, 2.28 17.19 M36.96 36.74 C23.96 26.88, 12.49 14.52, 6.02 9.84 M36.96 36.74 C27.85 28.49, 18.46 20.42, 6.02 9.84 M39.19 28.08 C31.64 21.39, 22.58 12.55, 10.51 3.15 M39.19 28.08 C31.42 20.7, 22.57 14.13, 10.51 3.15 M37.65 16.14 C31.77 9.93, 25.9 5.27, 19.53 0.39 M37.65 16.14 C30.94 11.1, 25.1 5.56, 19.53 0.39" stroke="#a5d8ff" stroke-width="1" fill="none"></path><path d="M21.95 -0.23 C26.1 -0.1, 31.21 3.28, 34.19 7.01 C37.16 10.74, 39.36 16.94, 39.8 22.18 C40.25 27.41, 39.27 34.09, 36.87 38.42 C34.46 42.76, 29.52 46.79, 25.36 48.18 C21.21 49.58, 15.84 48.88, 11.93 46.78 C8.02 44.69, 3.76 40.26, 1.9 35.63 C0.03 31.01, -0.34 24.19, 0.73 19.02 C1.81 13.84, 4.82 7.79, 8.35 4.59 C11.87 1.4, 19.4 0.51, 21.87 -0.16 C24.35 -0.82, 23.1 0.25, 23.17 0.62 M19.75 0.62 C23.94 0.36, 29.73 1.89, 33.23 5.3 C36.74 8.7, 40.03 15.89, 40.77 21.05 C41.5 26.22, 39.95 31.85, 37.65 36.29 C35.34 40.72, 31.05 45.72, 26.94 47.64 C22.83 49.56, 17.12 49.73, 12.98 47.8 C8.84 45.86, 4.33 40.59, 2.1 36.01 C-0.12 31.43, -1.29 25.43, -0.35 20.31 C0.59 15.18, 4.3 8.71, 7.74 5.26 C11.17 1.82, 18.12 0.35, 20.28 -0.37 C22.43 -1.08, 20.62 0.49, 20.66 0.98" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(368.36360931396484 177.75390625) rotate(0 47.09996032714844 12.5)"><text x="94.19992065429688" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="end" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Commands</text></g><g stroke-linecap="round" transform="translate(211.44140625 363.00390625) rotate(0 20.16796875 24.5)"><path d="M6.23 6.74 C6.23 6.74, 6.23 6.74, 6.23 6.74 M6.23 6.74 C6.23 6.74, 6.23 6.74, 6.23 6.74 M1.11 24.82 C8.39 18.37, 14.92 8.99, 22.1 0.67 M1.11 24.82 C8.08 17.55, 14.4 9.78, 22.1 0.67 M2.56 35.35 C9.59 25.67, 18.03 17.85, 29.45 4.4 M2.56 35.35 C11.18 25.64, 19.98 14.53, 29.45 4.4 M7.94 41.35 C14.11 34.8, 19.31 27.78, 34.84 10.41 M7.94 41.35 C13.43 34.52, 19.29 28.66, 34.84 10.41 M13.32 47.35 C22.08 37.81, 29.52 28.22, 39.56 17.17 M13.32 47.35 C22.95 35.66, 32.73 24.19, 39.56 17.17 M23.95 47.32 C29.95 41.8, 34.16 34.43, 39.04 29.96 M23.95 47.32 C29.11 41.34, 33.8 36.02, 39.04 29.96 M14.2 47.68 C14.2 47.68, 14.2 47.68, 14.2 47.68 M14.2 47.68 C14.2 47.68, 14.2 47.68, 14.2 47.68 M25.49 46.89 C19.91 42.45, 12.86 35.96, 1.34 25.9 M25.49 46.89 C17.57 39.95, 9.76 33.57, 1.34 25.9 M32.25 42.16 C26.77 36.46, 19.24 31.88, 2.06 15.92 M32.25 42.16 C20.71 32.48, 9.67 23.42, 2.06 15.92 M37.5 36.13 C26.87 27.39, 17.63 19.12, 5.8 8.57 M37.5 36.13 C25.99 26.32, 15.24 16.48, 5.8 8.57 M39.73 27.47 C30.91 19.93, 22.26 13.97, 11.8 3.19 M39.73 27.47 C31.28 19.97, 22.06 12.54, 11.8 3.19 M38.94 16.18 C33.4 12.12, 29.37 6.8, 19.31 -0.88 M38.94 16.18 C32.52 10.01, 25.4 4.68, 19.31 -0.88" stroke="#a5d8ff" stroke-width="1" fill="none"></path><path d="M19.55 -0.45 C23.62 -0.97, 28.79 2.18, 32.22 5.46 C35.65 8.73, 39.11 14.2, 40.12 19.2 C41.13 24.2, 40.26 30.83, 38.27 35.47 C36.28 40.1, 32.25 45.03, 28.18 47.01 C24.11 49, 18.04 48.99, 13.86 47.38 C9.67 45.77, 5.42 41.72, 3.09 37.35 C0.76 32.99, -0.7 26.35, -0.13 21.19 C0.45 16.03, 3.17 9.9, 6.52 6.4 C9.87 2.9, 17.74 1.13, 19.96 0.18 C22.19 -0.77, 19.92 0.28, 19.89 0.7 M19.73 -0.35 C23.72 -0.93, 28.34 1.07, 31.58 4.28 C34.82 7.48, 38.2 13.66, 39.17 18.89 C40.14 24.12, 39.28 31.03, 37.43 35.64 C35.58 40.24, 31.85 44.49, 28.08 46.5 C24.31 48.5, 19.05 49.04, 14.81 47.66 C10.56 46.28, 4.94 42.65, 2.6 38.2 C0.27 33.76, 0.28 26.17, 0.79 21 C1.3 15.84, 2.57 10.73, 5.67 7.23 C8.76 3.72, 17.2 1.04, 19.35 -0.04 C21.5 -1.12, 18.59 0.35, 18.56 0.75" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(224.1505126953125 334.65625) rotate(0 35.58995819091797 12.5)"><text x="71.17991638183594" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="end" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Queries</text></g><g stroke-linecap="round" transform="translate(141.943359375 88.12109375) rotate(0 56.85546875 52.65234375)"><path d="M26.33 0 C39.87 1.65, 55.04 1.69, 87.38 0 M26.33 0 C47.35 -0.19, 66.4 -0.11, 87.38 0 M87.38 0 C106.58 -1.14, 113.14 8.74, 113.71 26.33 M87.38 0 C107.01 1.91, 111.78 8.97, 113.71 26.33 M113.71 26.33 C111.74 40.9, 111.73 53.92, 113.71 78.98 M113.71 26.33 C113.17 40.29, 114.41 54.02, 113.71 78.98 M113.71 78.98 C114.42 95.2, 105.04 104.89, 87.38 105.3 M113.71 78.98 C114.39 95.48, 106.74 104.59, 87.38 105.3 M87.38 105.3 C66.89 106.49, 45.95 104.59, 26.33 105.3 M87.38 105.3 C73.46 105.03, 57.67 105.52, 26.33 105.3 M26.33 105.3 C10.44 104.37, -0.06 98.3, 0 78.98 M26.33 105.3 C8.32 106.7, 1.15 97.05, 0 78.98 M0 78.98 C-0.72 62.58, 2.45 46.76, 0 26.33 M0 78.98 C0.63 60.8, -0.57 43.61, 0 26.33 M0 26.33 C1.97 9.71, 10.6 -0.72, 26.33 0 M0 26.33 C1.75 9.13, 10.48 -1.39, 26.33 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(153.0488739013672 115.7734375) rotate(0 45.74995422363281 25)"><text x="45.74995422363281" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Rest </text><text x="45.74995422363281" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">controller</text></g><g stroke-linecap="round"><g transform="translate(267.05078125 132.51932942383365) rotate(0 46.691794033219026 45.620315812395205)"><path d="M-0.86 -0.43 C14.64 15.05, 76.34 76.27, 91.99 91.97 M0.9 -1.71 C16.85 13.97, 78.99 77.36, 94.24 92.95" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(267.05078125 132.51932942383365) rotate(0 46.691794033219026 45.620315812395205)"><path d="M71.69 82.15 C75.78 83.19, 79.62 87.29, 94.24 92.95 M71.69 82.15 C79.82 85.87, 88.57 90.65, 94.24 92.95" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(267.05078125 132.51932942383365) rotate(0 46.691794033219026 45.620315812395205)"><path d="M83.9 70.18 C85.25 73.73, 86.44 80.44, 94.24 92.95 M83.9 70.18 C87.52 78.32, 91.84 87.43, 94.24 92.95" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(10 335.81640625) rotate(0 56.85546875 52.65234375)"><path d="M26.33 0 C38.56 -1.64, 51.1 -0.12, 87.38 0 M26.33 0 C40.97 0.09, 54.19 0.95, 87.38 0 M87.38 0 C103.69 0.22, 114.53 8.23, 113.71 26.33 M87.38 0 C104.95 -2.11, 115.58 10.67, 113.71 26.33 M113.71 26.33 C114.87 37.4, 114.44 50.72, 113.71 78.98 M113.71 26.33 C113.55 42.97, 113.38 62.07, 113.71 78.98 M113.71 78.98 C112.64 97.5, 106.03 103.71, 87.38 105.3 M113.71 78.98 C115.91 94.32, 104.68 104.57, 87.38 105.3 M87.38 105.3 C64.3 106.97, 39.41 106, 26.33 105.3 M87.38 105.3 C69.68 104.71, 53.18 105.03, 26.33 105.3 M26.33 105.3 C9.27 104.1, -0.59 94.65, 0 78.98 M26.33 105.3 C9.96 106.43, -0.29 96.45, 0 78.98 M0 78.98 C-0.99 67.29, -0.74 54.48, 0 26.33 M0 78.98 C-0.77 63.83, 0.63 46.25, 0 26.33 M0 26.33 C0.39 9.74, 7.49 1.56, 26.33 0 M0 26.33 C2.26 8.63, 8.05 0.92, 26.33 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(21.105514526367188 350.96875) rotate(0 45.74995422363281 37.5)"><text x="45.74995422363281" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">web </text><text x="45.74995422363281" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">sockets </text><text x="45.74995422363281" y="67.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">controller</text></g><g stroke-linecap="round"><g transform="translate(143.26171875 394.35272006134267) rotate(0 27.668028268611295 -1.276571854272163)"><path d="M-0.44 1.01 C8.85 0.89, 46.49 -1.33, 55.78 -1.84 M1.52 0.49 C10.68 0.13, 46.18 -2.81, 55 -3.56" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(143.26171875 394.35272006134267) rotate(0 27.668028268611295 -1.276571854272163)"><path d="M32.3 6.91 C40.95 4.36, 47.4 0.39, 55 -3.56 M32.3 6.91 C40.97 3.52, 47.33 0.05, 55 -3.56" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(143.26171875 394.35272006134267) rotate(0 27.668028268611295 -1.276571854272163)"><path d="M30.88 -10.14 C39.81 -7.52, 46.68 -6.33, 55 -3.56 M30.88 -10.14 C40.07 -7.56, 46.93 -5.09, 55 -3.56" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(349.88671875 557.70703125) rotate(0 20.16796875 24.5)"><path d="M11.41 1.97 C11.41 1.97, 11.41 1.97, 11.41 1.97 M11.41 1.97 C11.41 1.97, 11.41 1.97, 11.41 1.97 M1.7 25.33 C9.34 16.42, 17.51 5.74, 23.35 0.42 M1.7 25.33 C7.56 17.94, 13.66 11.15, 23.35 0.42 M3.8 35.1 C9.19 26.81, 15.62 20.56, 30.04 4.92 M3.8 35.1 C12.11 25.28, 20.76 14.93, 30.04 4.92 M7.87 42.62 C15.23 34.17, 23.13 25.38, 36.74 9.41 M7.87 42.62 C17.42 31.64, 26.84 20.39, 36.74 9.41 M14.56 47.11 C22.05 37.3, 30.51 27.61, 38.84 19.19 M14.56 47.11 C20.13 41.6, 24.42 36.01, 38.84 19.19 M23.23 49.34 C26.58 45.56, 29.52 41.6, 38.97 31.23 M23.23 49.34 C28.19 43.14, 33.06 37.4, 38.97 31.23 M8.88 44.66 C8.88 44.66, 8.88 44.66, 8.88 44.66 M8.88 44.66 C8.88 44.66, 8.88 44.66, 8.88 44.66 M24.7 47.8 C17.5 42.67, 11.26 36.78, 1.3 27.46 M24.7 47.8 C16.59 41.25, 9.31 33.99, 1.3 27.46 M31.45 43.08 C20.9 34.01, 8.67 23.89, 2.02 17.49 M31.45 43.08 C23.02 35.93, 14.94 28.66, 2.02 17.49 M36.7 37.04 C26.88 27.44, 16.79 18.9, 5.76 10.14 M36.7 37.04 C27.86 29.34, 18.86 21.21, 5.76 10.14 M39.69 29.03 C29.69 19.75, 17.7 11.34, 10.25 3.45 M39.69 29.03 C27.74 19.37, 17.02 9.05, 10.25 3.45 M38.14 17.09 C31.41 10.57, 22.71 4.45, 19.28 0.69 M38.14 17.09 C31.03 10.93, 23.98 4.58, 19.28 0.69" stroke="#a5d8ff" stroke-width="1" fill="none"></path><path d="M24.11 0.59 C28.21 1.26, 33.76 5.17, 36.41 9.38 C39.06 13.58, 40.25 20.57, 40.04 25.83 C39.82 31.09, 37.95 37.09, 35.13 40.94 C32.31 44.79, 27.46 48.31, 23.1 48.94 C18.74 49.57, 12.63 47.61, 8.96 44.73 C5.3 41.84, 2.3 36.47, 1.12 31.61 C-0.06 26.75, 0.22 20.44, 1.88 15.55 C3.55 10.67, 7.21 4.76, 11.1 2.32 C14.98 -0.11, 22.8 1.14, 25.2 0.96 C27.6 0.78, 25.6 0.89, 25.51 1.26 M20.81 0.25 C24.94 0.34, 30.39 3.13, 33.52 6.73 C36.65 10.33, 39.08 16.58, 39.59 21.84 C40.09 27.1, 38.9 34.05, 36.57 38.29 C34.23 42.53, 29.64 45.78, 25.56 47.3 C21.47 48.82, 15.96 49.39, 12.03 47.39 C8.1 45.38, 3.91 40.11, 1.97 35.25 C0.04 30.4, -0.56 23.29, 0.4 18.27 C1.36 13.25, 4.3 8.18, 7.72 5.13 C11.15 2.08, 18.7 0.61, 20.95 -0.04 C23.19 -0.7, 21.17 0.77, 21.2 1.2" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(350.7739562988281 621.80859375) rotate(0 38.539955139160156 12.5)"><text x="77.07991027832031" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="end" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">services</text></g><g stroke-linecap="round" transform="translate(135.88671875 634.9609375) rotate(0 56.85546875 52.65234375)"><path d="M26.33 0 C47.96 -0.63, 68.5 -1.75, 87.38 0 M26.33 0 C46.52 -0.22, 66.1 -0.62, 87.38 0 M87.38 0 C104.11 -0.43, 112.98 9.82, 113.71 26.33 M87.38 0 C102.88 0.55, 114.11 8.44, 113.71 26.33 M113.71 26.33 C111.82 46.38, 114.03 64.13, 113.71 78.98 M113.71 26.33 C114.92 40.95, 113.24 56.61, 113.71 78.98 M113.71 78.98 C113.72 98.51, 104.47 104.54, 87.38 105.3 M113.71 78.98 C111.63 95.93, 106.7 106.64, 87.38 105.3 M87.38 105.3 C69.42 104.65, 51.71 106.25, 26.33 105.3 M87.38 105.3 C63.44 105.93, 41.13 105.73, 26.33 105.3 M26.33 105.3 C7.81 106.34, -1.64 98.41, 0 78.98 M26.33 105.3 C6.48 105.06, -0.18 97.32, 0 78.98 M0 78.98 C-0.61 62.52, 1.87 48.59, 0 26.33 M0 78.98 C-0.01 59.91, -0.27 41.42, 0 26.33 M0 26.33 C1.57 6.82, 7.65 -0.18, 26.33 0 M0 26.33 C1.09 10.37, 10.09 -1.12, 26.33 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(148.88220977783203 662.61328125) rotate(0 43.85997772216797 25)"><text x="43.85997772216797" y="17.52" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">CLI arg </text><text x="43.85997772216797" y="42.519999999999996" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">parser</text></g><g stroke-linecap="round"><g transform="translate(260.73046875 696.8648109735313) rotate(0 42.09050730487206 -54.305698288430904)"><path d="M-1.18 0.82 C12.93 -17.17, 71 -89.65, 85.36 -107.82 M0.4 0.21 C14.24 -18.11, 69.64 -91.03, 84.15 -109.43" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(260.73046875 696.8648109735313) rotate(0 42.09050730487206 -54.305698288430904)"><path d="M76.56 -85.61 C80.64 -94.95, 83.61 -104.08, 84.15 -109.43 M76.56 -85.61 C78.52 -93.3, 81.17 -102.98, 84.15 -109.43" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(260.73046875 696.8648109735313) rotate(0 42.09050730487206 -54.305698288430904)"><path d="M63.03 -96.06 C71.98 -101.51, 79.82 -106.88, 84.15 -109.43 M63.03 -96.06 C69.69 -100.11, 77.08 -106.14, 84.15 -109.43" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask></svg>

- **A good understanding of event storming**. You will see plenty of tutorial around, like [this one](https://contextmapper.org/docs/event-storming/).
  make sure what you use is visual.

- **No python knowledge is required**. It's ok if you do not understand it all. You can look at the documentation on the go

Let's practice this in this example

> With so much ML models around, users want to discover, tests, and share them. Let's make an app for this

### Event-storming ideas

Let's start with this:

> As a user, I want to know what ML models are nice for my application

```mermaid
flowchart LR
m_added[model is added in the system]
m_searched[model is searched by an user]

start-->|add|m_added
m_added-->|search|m_searched
```

## User interface

For your application to handle use cases, it needs to react to user (or consumer system) input.

Always remember, your language is compiled for/interpreted in an ecosystem. Some user interfaces will
be therefore better suited than others

Be careful with user interface libraries. Python support of async was added "recently".
Most libraries are not letting you await I/Os operations,
meaning you could block your CPU.

### CLI

The easiest way to have user inputs is via a command line interface. Easy to develop, can be integrated
into shell scripts

#### Arguments

Using [argparse](https://docs.python.org/fr/3/library/argparse.html) lib, you can read from command line. There are zsh/bash [plugins](https://github.com/kislyuk/argcomplete) to make it seamlessly integrated with your fav shell
You can use subcommands per use-case

```python
import argparse
import sys


# We will define that later
def add_model(name: str, tags: list[str]):
    print("model", name, "added with tags ", tags)


def search_model(tags: list[str]):
    print("searching for tags", tags)


parser = argparse.ArgumentParser()

subparsers = parser.add_subparsers(dest="command", help="subcommand help")

add_model_command = subparsers.add_parser("addmodel", help="Add a model")
search_model_command = subparsers.add_parser("search", help="Search for a model")


add_model_command.add_argument("model", type=str, help="name of the model")
add_model_command.add_argument("tags", type=str, help="tags", nargs="+")
search_model_command.add_argument("tags", type=str, help="tags", nargs="+")


opts = parser.parse_args(sys.argv[1:])

if opts.command == "addmodel":
    add_model(opts.model, opts.tags)
elif opts.command == "search":
    search_model(opts.tags)
```

#### I/O

Check `input` and `print` from [functions](https://docs.python.org/3/library/functions.html)

### API

Often, you create a module that is imported by another module.
In this case, you have a programmatic interface.

This is especially the case if your script runs inside a [Jupyter notebook](https://jupyter.org/) or [google collab project](https://colab.research.google.com/)
In such case, make sure to expose entry functions in your python project

First step is to create your function dedicated for API.
They may import in return, other stuff from your domain or infra (ex: aggregate roots, ports..)

Create a `api/add_model.py` file

```python title="api/add_model.py"
def add_model(name: str, tags: list[str]):
    print("model", name, "added with tags ", tags)
```

Once you have this, create an `api/__init__.py` file to create a module. This construction will make your consumer unaware of which files reside your
implementations

```python title="api/__init__.py"
# __all__ allows someone to to import wildcard directives
__all__ = ['add_model', 'search_model']

from .add_model import add_model
from .search_model import search_model
```

> the dot here is used to say "we are importing from the module of this directory"

After this, you will be able to import your method

```python
from api import add_model
```

Follow [packaging projects](https://packaging.python.org/en/latest/tutorials/packaging-projects/) if you want to then publish your package

### Web

To make your app web-ready, you need to wire it up to controllers. As in the js world, you have plenty of libraries:

| Type of lib            | Lib                                         | Js equivalent                          |
| ---------------------- | ------------------------------------------- | -------------------------------------- |
| Opinionated framework  | [django](https://www.djangoproject.com/)    | [nestjs](https://nestjs.com/)          |
| Lightweight framework  | [fastapi](https://fastapi.tiangolo.com/)    | [fastify](https://fastify.dev/)        |
| Lightweight simple lib | [flask](https://flask.palletsprojects.com/) | [expressjs](https://expressjs.com/fr/) |

For this blog post, we are going to use `fastapi`

Following the [documentation](https://fastapi.tiangolo.com/tutorial/first-steps/), create a `main.py` file and add the endpoints

```python title=main.py file
from fastapi import FastAPI
from pydantic import BaseModel

# Import your domain
from domain import MlModels


# Assemble your aggregate roots
ml_models = MlModels()


# Define some HTML DTOs using pydantic.BaseModel
class MlModelRequestBody(BaseModel):
    name: str
    tags: list[str]

# Create a fast api app
app = FastAPI()

# Execute methods on your agregate roots
@app.post("/models", status_code=201)
def addModel(model: MlModelRequestBody):
    ml_models.add_model(model.name, model.tags)
    return
```

## Graphical user interface

Be careful here, this is a odd territory.
In theory, it is possible to build "native" apps. You will see that there are some solutions
such as [Kivy](https://kivy.org/) or [Beeware](Beeware). As of 2024-Q4, I am unsure learning them would be strategic:

- You will not find expertise if you want to recruit for your project
- There are some specialized UIs already per-use cases such as [gradio](https://www.gradio.app/) for machine learning.

## Infrastructure

For your application to work, it needs an infrastructure. We're going to simply quote a few libraries here.
Like with user interface libraries, keep in mind that some of them do not handle async/await, therefore, they will
waste your CPU resources.

| Usual use-case        | Lib                                                                                                                                       |
| --------------------- | ----------------------------------------------------------------------------------------------------------------------------------------- |
| Distributed kvm,cache | [Redis](https://redis-py.readthedocs.io/en/stable/examples/asyncio_examples.html)                                                         |
| Distributed pub/sub   | [RabbitMq](https://www.rabbitmq.com/tutorials/tutorial-one-python), maybe [kafka-python-ng](https://github.com/wbarnha/kafka-python-ng) ? |
| NoSQL                 | [MongoDB](https://motor.readthedocs.io/en/stable/)                                                                                        |
| Sql                   | [PostgreSQL](https://github.com/MagicStack/asyncpg)                                                                                       |
| ORM                   | [SQLAlchemy](https://docs.sqlalchemy.org/en/20/tutorial/)                                                                                 |

Let's implement a NoSQL because it's in vogue (no, let's not discuss the CAP theorem here!)

As usual, start defining your infrastructure DTOs and contracts.
In your project, you may want to use an ORM to handle all this. Let's do it by hand for now.

```python title='infrastructure/models_repository.py'
from dataclasses import dataclass, abstractmethod
import json

# This creates a DTO
@dataclass
class MlModelItem:
    name: str
    tags: list[str]

    def to_json(self):
        return json.dumps(self.__dict__, default=lambda x: x.__dict__, indent=4)

    @staticmethod
    def from_json(jsonStr: str):
        jsonObject = json.loads(jsonStr)
        return MlModelItem(name=jsonObject["name"], tags=jsonObject["tags"])

# Abstract class
# yes, ABC means abstract class.
from abc import ABC
from typing import Awaitable

class MlModelRepository(ABC):
    @abstractmethod
    def add(self, item: MlModelItem) -> Awaitable[None]:
        pass

    @abstractmethod
    def list(self) -> Awaitable[list[MlModelItem]]:
        pass
```

Port your infrastructure for MongoDB

```python title='ports/mongodb_port.py'


import motor.motor_asyncio


class MongoDbMlModelRepository(MlModelRepository):
    def __init__(
        self,
    ) -> None:
        super().__init__()
        self.client = motor.motor_asyncio.AsyncIOMotorClient("localhost", 27017)
        self.db = self.client.get_database("modelsapp")
        self.models = self.db.get_collection("models")

    def close(self):
        self.client.close()

    async def add(self, item: MlModelItem) -> Awaitable[None]:
        await self.models.insert_one(json.loads(item.to_json()))

    async def list(self) -> Awaitable[list[MlModelItem]]:
        result = []
        cursor = self.models.find()
        for document in await cursor.to_list(length=100):
            result.append(MlModelItem(name=document["name"], tags=document["tags"]))
        return result

# Important: register the concrete class as
# implementing the parent class
MlModelRepository.register(MongoDbMlModelRepository)
```

and use your repository in your app in your app

```python
    ml_model_repository =  MongoDbMlModelRepository()
    ml_aggregate_root = MlModels(ml_model_repository)
```

## Domain layer

Yes. This is supposed to be a DDD-centric tutorial, and we're finishing with the domain.

At this point in the document, I expect you, the reader, to have at least vague notions
of how to do inversion of control using abstractions, you should also be able to write your own DTOS.

You should already have also an idea about how to write your aggregates (root or not).

So, what's missing to do a good domain layer?

You tell me!

## DevOps and Dev experience

Once you have an idea of how to create a solution that fits your needs, you will need
to put it in a development and deployment cycle.

### OOP or FP?

Some languages are more suited to model objects than model functions.
However, keep in mind that python still allow you to do some sort of
[functional programming](https://docs.python.org/3/howto/functional.html)

Functional Programming is well adapted when you handle data flows, or express
an intent to describe a function rather than a concept.

### How to do unit tests

[Pytest](https://docs.pytest.org/en/8.2.x/) is a good tool to do unit tests.

1. Install it `pip install pytest`
2. create a file named `test_something.py` or `something_test.py`. Coming from the web `file.spec.ts`,
   I like the 2d option more.
3. Create a method prefixed by test. ex: `test_should_close_db_after_use`

### Package management

| Use case                    | In python                               | If you come from web                 |
| --------------------------- | --------------------------------------- | ------------------------------------ |
| Platform Version management | [pyenv](https://github.com/pyenv/pyenv) | [nvm](https://github.com/nvm-sh/nvm) |
| Project Package management  | [Poetry](https://python-poetry.org/)    | [npm](https://www.npmjs.com/)        |
| Global Package management   | [pip](https://pip.pypa.io/en/stable/)   | [npm -g](https://www.npmjs.com/)     |

Special mention to [Rye](https://rye.astral.sh/) which does both platform version management and package management.
I haven't tested it. It looks promising

To ship packages, the official doc is [here](https://packaging.python.org/en/latest/tutorials/packaging-projects/)

## Interesting reads I've found while finding documentation

- [LATO](https://lato.readthedocs.io/en/latest/key_concepts/dependency_injection.html) to do Dep injection and loosely coupling
- [Python DDD](https://github.com/pgorecki/python-ddd/blob/main/src/modules/catalog/application/__init__.py) a good repo to start from
- [python-ddd-example](https://github.com/jparadadev/python-ddd-example/tree/main/src/contexts/shared/domain)
- And of course, [the official docs](https://docs.python.org/3/index.html)
